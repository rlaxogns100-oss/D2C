# 도메인 주소 (Caddy가 자동으로 HTTPS 인증서 발급)
# 예: example.com
# 로컬 테스트 시: :80 또는 localhost

:80 {
    # 1. 정적 파일 (프론트엔드)
    # 현재 프로젝트 구조에 맞춰 root 설정
    # 주의: Caddy 실행 위치에 따라 root 경로는 달라질 수 있음. 
    # 보통 /var/www/html 또는 프로젝트 루트를 가리킴.
    
    root * .
    
    # 기본 파일 서빙
    file_server

    # SPA 라우팅 (필요 시)
    # try_files {path} {path}/ /01_Homepage/index.html

    # 2. 백엔드 API 프록시
    # /api/ 로 시작하는 모든 요청을 로컬 8080 포트로 전달
    handle /api/* {
        reverse_proxy localhost:8080
    }
    
    # 로그 설정 (선택 사항)
    log {
        output file access.log
    }
}

